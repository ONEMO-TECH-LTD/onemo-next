# 11.5 Naming Convention

> Canonical mapping: Figma variable names to CSS custom properties to Tailwind v4 utilities to Shopify Liquid setting IDs.

**Status:** Normative (folder 11 — grows during execution, Dan approves)
**Linear issue:** ONE-178
**Depends on:** ONE-181 (token scope), ONE-177 (CSS pipeline)

---

## 1. Transformation Rules

### 1.1 Figma Path to CSS Custom Property

Figma variables use slash-separated paths (e.g., `Colors/Brand/500`). The pipeline transforms these to CSS custom properties using Style Dictionary's `name/kebab` convention (DTCG spec 2025.10 de facto standard):

| Step | Rule | Example |
|---|---|---|
| 1 | Strip collection prefix (`_Primitives::`, `_Alias::`) | `_Primitives::Colors/Base/white` -> `Colors/Base/white` |
| 2 | Replace `/` with `-` | `Colors-Base-white` |
| 3 | Lowercase everything | `colors-base-white` |
| 4 | Collapse spaces to single hyphen | `ONEMO - UI Palette` -> `onemo-ui-palette` |
| 5 | Remove parenthetical annotations | `(900)`, `(light mode)`, `(0px)` -> removed |
| 6 | Replace Unicode characters | `0\.5` (U+2024) -> `0-5` |
| 7 | Strip redundant category prefixes for semantic tokens | See Layer 3 rules below |
| 8 | Prepend `--` | `--colors-base-white` |

### 1.2 Tailwind v4 Namespace Constraint (NON-NEGOTIABLE)

Only CSS custom properties using these exact namespace prefixes generate Tailwind utilities when placed inside `@theme`:

| CSS Variable Namespace | Generates Utilities | Reference |
|---|---|---|
| `--color-*` | `bg-*`, `text-*`, `border-*`, `ring-*`, `fill-*`, `stroke-*`, `shadow-*`, `accent-*`, `caret-*`, `decoration-*` | tailwind-v4.md |
| `--font-*` | `font-*` (font-family) | tailwind-v4.md |
| `--text-*` | `text-*` (font-size, with `--line-height`, `--letter-spacing`, `--font-weight` sub-properties) | tailwind-v4.md |
| `--font-weight-*` | `font-*` (font-weight) | tailwind-v4.md |
| `--tracking-*` | `tracking-*` (letter-spacing) | tailwind-v4.md |
| `--leading-*` | `leading-*` (line-height) | tailwind-v4.md |
| `--spacing-*` | `p-*`, `m-*`, `gap-*`, `w-*`, `h-*`, `size-*`, `inset-*`, `basis-*` | tailwind-v4.md |
| `--radius-*` | `rounded-*` | tailwind-v4.md |
| `--shadow-*` | `shadow-*` | tailwind-v4.md |
| `--breakpoint-*` | `sm:`, `md:`, `lg:`, `xl:`, `2xl:` responsive variants | tailwind-v4.md |

**Critical:** Variables like `--primitive-color-*` or `--alias-brand-*` will NOT generate utilities. Only Layer 3 semantic tokens placed in `@theme` use these namespaces.

### 1.3 State Variant Rule

States (hover, active, disabled, focus) are handled in CSS pseudo-selectors, NOT encoded in token names. This is the industry consensus per css-design-tokens.md.

**Exception:** The Figma export includes underscore-separated state variants (e.g., `bg-primary_hover`, `fg-secondary_hover`). These are retained as-is in CSS because they represent distinct color values per mode, not CSS pseudo-state styling. They map to different Light/Dark mode values and are consumed by component CSS that applies them via pseudo-selectors.

**Discrepancy with Horizon:** Horizon also encodes hover states in color scheme tokens (e.g., `--color-primary-hover`). ONEMO follows the same pragmatic pattern for mode-dependent color values.

### 1.4 Separator Conventions

| Context | Separator | Example | Source |
|---|---|---|---|
| CSS custom properties | Hyphen (`-`) | `--color-brand-500` | css-design-tokens.md |
| Tailwind v4 sub-properties | Double hyphen (`--`) | `--text-display-2xl--line-height` | tailwind-v4.md |
| Horizon typography | Double hyphen (`--`) | `--font-body--family` | shopify-liquid-horizon.md |
| Figma variable paths | Slash (`/`) | `Colors/Brand/500` | Figma convention |
| Shopify setting IDs | Underscore (`_`) | `type_header_font` | shopify-liquid-horizon.md |
| DTCG token references | Dot (`.`) | `{colors.brand.primary}` | css-design-tokens.md |

---

## 2. Three-Layer Architecture

### Layer 1: Primitives

**Source:** `_Primitives` Figma collection (252 variables)
**CSS location:** `:root` block
**In `@theme`?** NO -- primitives must NOT generate Tailwind utilities
**Purpose:** Raw, unaliased values. The design system's "periodic table."

```css
/* Layer 1: Primitives — :root only, no @theme */
:root {
  /* Colors — raw palette values */
  --primitive-color-indigo-bloom-500: oklch(0.49 0.17 289);
  --primitive-color-blue-green-500: oklch(0.60 0.12 197);
  --primitive-color-gray-light-500: oklch(0.55 0.01 264);
  --primitive-color-base-white: oklch(1 0 0);
  --primitive-color-base-black: oklch(0 0 0);

  /* Dimensions — raw pixel values as rem */
  --primitive-dimension-0: 0px;
  --primitive-dimension-4: 1rem;
  --primitive-dimension-8: 2rem;

  /* Typography — raw type scale */
  --primitive-type-scale-72: 4.5rem;
  --primitive-type-scale-16: 1rem;

  /* Typography — raw letter spacing */
  --primitive-letter-spacing-neg-10: -1%;
  --primitive-letter-spacing-0: 0%;
  --primitive-letter-spacing-pos-10: 1%;

  /* Font families — raw font stack values */
  --primitive-font-satoshi: "Satoshi", sans-serif;
  --primitive-font-chillax: "Chillax", sans-serif;
  --primitive-font-electric-blue: "Electric Blue", sans-serif;
  --primitive-font-oxanium: "Oxanium", sans-serif;
}
```

**Naming pattern:** `--primitive-{category}-{name}-{scale}`

The `primitive-` prefix ensures these never collide with Tailwind's namespace prefixes. No `--color-*`, `--font-*`, `--spacing-*` prefixes at this layer.

### Layer 2: Aliases

**Source:** `_Alias` Figma collection (117 variables)
**CSS location:** `:root` block
**In `@theme`?** NO -- aliases are the swap layer, not the utility layer
**Purpose:** Brand mapping. Point aliases to primitives. Changing the alias changes the brand.

```css
/* Layer 2: Aliases — :root only, no @theme */
:root {
  /* Brand color = Blue Green palette */
  --alias-brand-500: var(--primitive-color-blue-green-500);
  --alias-brand-600: var(--primitive-color-blue-green-600);

  /* System color aliases */
  --alias-error-500: var(--primitive-color-tomato-jam-500);
  --alias-warning-500: var(--primitive-color-golden-glow-500);
  --alias-info-500: var(--primitive-color-persian-blue-500);
  --alias-success-500: var(--primitive-color-jade-green-500);

  /* Font family aliases */
  --alias-font-primary: var(--primitive-font-satoshi);
  --alias-font-display-plain: var(--primitive-font-chillax);
  --alias-font-display-deco: var(--primitive-font-electric-blue);
  --alias-font-label: var(--primitive-font-oxanium);

  /* Typography size aliases */
  --alias-font-size-display-2xl: var(--primitive-type-scale-72);
  --alias-line-height-display-2xl: var(--primitive-type-scale-80);
}
```

**Naming pattern:** `--alias-{category}-{name}-{scale}`

The `alias-` prefix ensures these never collide with Tailwind's namespace prefixes.

### Layer 3: Semantic Tokens

**Source:** `1. Color modes` (157 vars), `2. Radius` (11 vars), `3. Spacing` (17 vars), `4. Widths` (12 vars), `5. Containers` (3 vars), `6. Typography` (156 vars)
**CSS location:** `@theme` or `@theme inline`
**In `@theme`?** YES -- these generate Tailwind utilities
**Purpose:** Consumed by components. Named by function, not appearance.

```css
/* Layer 3: Semantic tokens — in @theme, generates utilities */
@theme {
  /* Colors (mode-independent) */
  --color-white: var(--primitive-color-base-white);
  --color-black: var(--primitive-color-base-black);

  /* Font families */
  --font-primary: var(--alias-font-primary);
  --font-display-plain: var(--alias-font-display-plain);
  --font-display-deco: var(--alias-font-display-deco);
  --font-label: var(--alias-font-label);

  /* Spacing scale */
  --spacing-none: 0px;
  --spacing-xxs: 0.125rem;
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.375rem;
  --spacing-md: 0.5rem;
  --spacing-lg: 0.75rem;
  --spacing-xl: 1rem;
  /* ... through 11xl */

  /* Radius scale */
  --radius-none: 0px;
  --radius-xxs: 0.125rem;
  --radius-xs: 0.25rem;
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.625rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-3xl: 1.25rem;
  --radius-4xl: 1.5rem;
  --radius-full: 9999px;

  /* Breakpoints (from Widths collection) */
  --breakpoint-sm: 480px;
  --breakpoint-md: 640px;
  --breakpoint-lg: 768px;
  --breakpoint-xl: 1024px;
  --breakpoint-2xl: 1280px;
}

/* Mode-dependent color tokens use @theme inline */
@theme inline {
  --color-text-primary: var(--semantic-text-primary);
  --color-bg-primary: var(--semantic-bg-primary);
  --color-border-primary: var(--semantic-border-primary);
  /* ... */
}
```

**Naming pattern:** Uses Tailwind v4 namespace prefixes directly (`--color-*`, `--font-*`, `--spacing-*`, `--radius-*`, `--text-*`).

---

## 3. Complete Mapping Table

### 3.1 _Primitives Collection (252 variables)

| Figma Path (example) | CSS Layer | CSS Custom Property | Tailwind Utility | Liquid Setting ID |
|---|---|---|---|---|
| `Colors/ONEMO - UI Palette/Dusty/Indigo Bloom/500` | L1 `:root` | `--primitive-color-indigo-bloom-500` | None (not in `@theme`) | N/A |
| `Colors/ONEMO - UI Palette/Dusty/Blue Green/500` | L1 `:root` | `--primitive-color-blue-green-500` | None | N/A |
| `Colors/ONEMO - UI Palette/Dusty/Tomato Jam/500` | L1 `:root` | `--primitive-color-tomato-jam-500` | None | N/A |
| `Colors/ONEMO - UI Palette/Dusty/Golden Glow/500` | L1 `:root` | `--primitive-color-golden-glow-500` | None | N/A |
| `Colors/ONEMO - UI Palette/Dusty/Persian Blue/500` | L1 `:root` | `--primitive-color-persian-blue-500` | None | N/A |
| `Colors/ONEMO - UI Palette/Dusty/Jade Green/500` | L1 `:root` | `--primitive-color-jade-green-500` | None | N/A |
| `Colors/ONEMO - UI Palette/Dusty/Lime Moss/500` | L1 `:root` | `--primitive-color-lime-moss-500` | None | N/A |
| `Colors/ONEMO - UI Palette/Dusty/Raspberry Plum/500` | L1 `:root` | `--primitive-color-raspberry-plum-500` | None | N/A |
| `Colors/Base/white` | L1 `:root` | `--primitive-color-base-white` | None | N/A |
| `Colors/Base/black` | L1 `:root` | `--primitive-color-base-black` | None | N/A |
| `Colors/Base/transparent` | L1 `:root` | `--primitive-color-base-transparent` | None | N/A |
| `Colors/Base/ONEMO white` | L1 `:root` | `--primitive-color-base-onemo-white` | None | N/A |
| `Colors/Base/Brand black` | L1 `:root` | `--primitive-color-base-brand-black` | None | N/A |
| `Colors/Neutral/Gray (light mode)/500` | L1 `:root` | `--primitive-color-gray-light-500` | None | N/A |
| `Colors/Neutral/Gray (dark mode)/500` | L1 `:root` | `--primitive-color-gray-dark-500` | None | N/A |
| `Colors/Neutral/Gray (dark mode alpha)/500` | L1 `:root` | `--primitive-color-gray-dark-alpha-500` | None | N/A |
| `Dimensions/4 (16px)` | L1 `:root` | `--primitive-dimension-4` | None | N/A |
| `Dimensions/0\.5 (2px)` | L1 `:root` | `--primitive-dimension-0-5` | None | N/A |
| `Typography/Font Family/Basic/Satoshi` | L1 `:root` | `--primitive-font-satoshi` | None | N/A |
| `Typography/Font Family/Decorative/Electric Blue` | L1 `:root` | `--primitive-font-electric-blue` | None | N/A |
| `Typography/Type Scale/72` | L1 `:root` | `--primitive-type-scale-72` | None | N/A |
| `Typography/Letter Spacing/-10` | L1 `:root` | `--primitive-letter-spacing-neg-10` | None | N/A |
| `Typography/Letter Spacing/+10` | L1 `:root` | `--primitive-letter-spacing-pos-10` | None | N/A |
| `Typography/Letter Spacing/zero` | L1 `:root` | `--primitive-letter-spacing-0` | None | N/A |

### 3.2 _Alias Collection (117 variables)

| Figma Path (example) | CSS Layer | CSS Custom Property | Tailwind Utility | Liquid Setting ID |
|---|---|---|---|---|
| `Typography/Font-Family/Primary` | L2 `:root` | `--alias-font-primary` | None | `type_primary_font` |
| `Typography/Font-Family/Secondary  - Plain` | L2 `:root` | `--alias-font-display-plain` | None | `type_display_plain_font` |
| `Typography/Font-Family/Secondary - Deco` | L2 `:root` | `--alias-font-display-deco` | None | `type_display_deco_font` |
| `Typography/Font-Family/Tertiary` | L2 `:root` | `--alias-font-label` | None | `type_label_font` |
| `Typography/Font-Style/Normal/Regular` | L2 `:root` | `--alias-font-style-regular` | None | N/A |
| `Typography/Font-Style/Normal/Bold` | L2 `:root` | `--alias-font-style-bold` | None | N/A |
| `Typography/Font-Style/Italic/Italic` | L2 `:root` | `--alias-font-style-italic` | None | N/A |
| `Typography/Font-Size/Display/2XL` | L2 `:root` | `--alias-font-size-display-2xl` | None | N/A |
| `Typography/Font-Size/Title/XL` | L2 `:root` | `--alias-font-size-title-xl` | None | N/A |
| `Typography/Font-Size/Text/L` | L2 `:root` | `--alias-font-size-text-l` | None | N/A |
| `Typography/Line-Height/Display/2XL` | L2 `:root` | `--alias-line-height-display-2xl` | None | N/A |
| `Typography/Line-Height/Text/L` | L2 `:root` | `--alias-line-height-text-l` | None | N/A |
| `Typography/Letter-Spacing/LeS-0 - default` | L2 `:root` | `--alias-letter-spacing-0` | None | N/A |
| `Typography/Letter-Spacing/LeS-4` | L2 `:root` | `--alias-letter-spacing-neg-4` | None | N/A |
| `Typography/Letter-Spacing/LeSp+10` | L2 `:root` | `--alias-letter-spacing-pos-10` | None | N/A |
| `Colors/Brand/500` | L2 `:root` | `--alias-brand-500` | None | `color_brand_500` |
| `Colors/Brand/900` | L2 `:root` | `--alias-brand-900` | None | `color_brand_900` |
| `Colors/System/Error/500` | L2 `:root` | `--alias-error-500` | None | N/A |
| `Colors/System/Warning/500` | L2 `:root` | `--alias-warning-500` | None | N/A |
| `Colors/System/Info/500` | L2 `:root` | `--alias-info-500` | None | N/A |
| `Colors/System/Success/500` | L2 `:root` | `--alias-success-500` | None | N/A |

### 3.3 1. Color Modes Collection (157 variables, Light + Dark modes)

| Figma Path (example) | CSS Layer | CSS Custom Property | Tailwind Utility | Liquid Setting ID |
|---|---|---|---|---|
| `Colors/Text/text-primary (900)` | L3 `@theme inline` | `--color-text-primary` | `text-text-primary` | `color_text_primary` |
| `Colors/Text/text-secondary (700)` | L3 `@theme inline` | `--color-text-secondary` | `text-text-secondary` | `color_text_secondary` |
| `Colors/Text/text-primary_on-brand` | L3 `@theme inline` | `--color-text-primary-on-brand` | `text-text-primary-on-brand` | `color_text_primary_on_brand` |
| `Colors/Text/text-brand-primary (900)` | L3 `@theme inline` | `--color-text-brand-primary` | `text-text-brand-primary` | `color_text_brand_primary` |
| `Colors/Text/text-error-primary (600)` | L3 `@theme inline` | `--color-text-error-primary` | `text-text-error-primary` | `color_text_error_primary` |
| `Colors/Text/text-disabled` | L3 `@theme inline` | `--color-text-disabled` | `text-text-disabled` | `color_text_disabled` |
| `Colors/Text/text-placeholder` | L3 `@theme inline` | `--color-text-placeholder` | `text-text-placeholder` | `color_text_placeholder` |
| `Colors/Foreground/fg-primary (900)` | L3 `@theme inline` | `--color-fg-primary` | `text-fg-primary` | `color_fg_primary` |
| `Colors/Foreground/fg-brand-primary (600)` | L3 `@theme inline` | `--color-fg-brand-primary` | `text-fg-brand-primary` | `color_fg_brand_primary` |
| `Colors/Foreground/fg-disabled` | L3 `@theme inline` | `--color-fg-disabled` | `text-fg-disabled` | `color_fg_disabled` |
| `Colors/Background/bg-primary` | L3 `@theme inline` | `--color-bg-primary` | `bg-bg-primary` | `color_bg_primary` |
| `Colors/Background/bg-primary_hover` | L3 `@theme inline` | `--color-bg-primary-hover` | `bg-bg-primary-hover` | `color_bg_primary_hover` |
| `Colors/Background/bg-brand-solid` | L3 `@theme inline` | `--color-bg-brand-solid` | `bg-bg-brand-solid` | `color_bg_brand_solid` |
| `Colors/Background/bg-error-primary` | L3 `@theme inline` | `--color-bg-error-primary` | `bg-bg-error-primary` | `color_bg_error_primary` |
| `Colors/Background/bg-overlay` | L3 `@theme inline` | `--color-bg-overlay` | `bg-bg-overlay` | `color_bg_overlay` |
| `Colors/Border/border-primary` | L3 `@theme inline` | `--color-border-primary` | `border-border-primary` | `color_border_primary` |
| `Colors/Border/border-brand` | L3 `@theme inline` | `--color-border-brand` | `border-border-brand` | `color_border_brand` |
| `Colors/Border/border-error` | L3 `@theme inline` | `--color-border-error` | `border-border-error` | `color_border_error` |
| `Colors/Effects/Focus rings/focus-ring` | L3 `@theme inline` | `--color-focus-ring` | `ring-focus-ring` | `color_focus_ring` |
| `Colors/Effects/Shadows/shadow-xs` | L3 `@theme inline` | `--color-shadow-xs` | [See note 1] | `color_shadow_xs` |
| `Colors/Effects/Shadows/shadow-lg_01` | L3 `@theme inline` | `--color-shadow-lg-01` | [See note 1] | `color_shadow_lg_01` |
| `Component colors/Alpha/alpha-white-50` | L3 `@theme inline` | `--color-alpha-white-50` | `bg-alpha-white-50` | N/A |
| `Component colors/Alpha/alpha-black-50` | L3 `@theme inline` | `--color-alpha-black-50` | `bg-alpha-black-50` | N/A |
| `Component colors/Utility/Gray/utility-gray-500` | L3 `@theme inline` | `--color-utility-gray-500` | `bg-utility-gray-500` | N/A |
| `Component colors/Components/Buttons/button-primary-icon` | L3 `@theme inline` | `--color-button-primary-icon` | `text-button-primary-icon` | N/A |
| `Component colors/Components/Toggles/toggle-border` | L3 `@theme inline` | `--color-toggle-border` | `border-toggle-border` | N/A |

> **Note 1:** Shadow _color_ tokens (`--color-shadow-*`) are distinct from shadow _composite_ tokens (`--shadow-*`). The color tokens feed into shadow definitions. Tailwind's `shadow-*` utility expects a composite shadow value, not a color. Shadow colors are consumed via `shadow-(--color-shadow-xs)` arbitrary value syntax or within composite shadow definitions.

### 3.4 2. Radius Collection (11 variables)

| Figma Path | CSS Layer | CSS Custom Property | Tailwind Utility | Liquid Setting ID |
|---|---|---|---|---|
| `radius-none` | L3 `@theme` | `--radius-none` | `rounded-none` | `style_border_radius_none` |
| `radius-xxs` | L3 `@theme` | `--radius-xxs` | `rounded-xxs` | `style_border_radius_xxs` |
| `radius-xs` | L3 `@theme` | `--radius-xs` | `rounded-xs` | `style_border_radius_xs` |
| `radius-sm` | L3 `@theme` | `--radius-sm` | `rounded-sm` | `style_border_radius_sm` |
| `radius-md` | L3 `@theme` | `--radius-md` | `rounded-md` | `style_border_radius_md` |
| `radius-lg` | L3 `@theme` | `--radius-lg` | `rounded-lg` | `style_border_radius_lg` |
| `radius-xl` | L3 `@theme` | `--radius-xl` | `rounded-xl` | `style_border_radius_xl` |
| `radius-2xl` | L3 `@theme` | `--radius-2xl` | `rounded-2xl` | `style_border_radius_2xl` |
| `radius-3xl` | L3 `@theme` | `--radius-3xl` | `rounded-3xl` | `style_border_radius_3xl` |
| `radius-4xl` | L3 `@theme` | `--radius-4xl` | `rounded-4xl` | `style_border_radius_4xl` |
| `radius-full` | L3 `@theme` | `--radius-full` | `rounded-full` | `style_border_radius_full` |

### 3.5 3. Spacing Collection (17 variables)

| Figma Path | Resolved (px) | CSS Layer | CSS Custom Property | Tailwind Utility (example) | Liquid Setting ID |
|---|---|---|---|---|---|
| `spacing-none` | 0 | L3 `@theme` | `--spacing-none` | `p-none`, `m-none`, `gap-none` | `spacing_none` |
| `spacing-xxs` | 2 | L3 `@theme` | `--spacing-xxs` | `p-xxs`, `gap-xxs` | `spacing_xxs` |
| `spacing-xs` | 4 | L3 `@theme` | `--spacing-xs` | `p-xs`, `gap-xs` | `spacing_xs` |
| `spacing-sm` | 6 | L3 `@theme` | `--spacing-sm` | `p-sm`, `gap-sm` | `spacing_sm` |
| `spacing-md` | 8 | L3 `@theme` | `--spacing-md` | `p-md`, `gap-md` | `spacing_md` |
| `spacing-lg` | 12 | L3 `@theme` | `--spacing-lg` | `p-lg`, `gap-lg` | `spacing_lg` |
| `spacing-xl` | 16 | L3 `@theme` | `--spacing-xl` | `p-xl`, `gap-xl` | `spacing_xl` |
| `spacing-2xl` | 20 | L3 `@theme` | `--spacing-2xl` | `p-2xl`, `gap-2xl` | `spacing_2xl` |
| `spacing-3xl` | 24 | L3 `@theme` | `--spacing-3xl` | `p-3xl`, `gap-3xl` | `spacing_3xl` |
| `spacing-4xl` | 32 | L3 `@theme` | `--spacing-4xl` | `p-4xl`, `gap-4xl` | `spacing_4xl` |
| `spacing-5xl` | 40 | L3 `@theme` | `--spacing-5xl` | `p-5xl` | `spacing_5xl` |
| `spacing-6xl` | 48 | L3 `@theme` | `--spacing-6xl` | `p-6xl` | `spacing_6xl` |
| `spacing-7xl` | 64 | L3 `@theme` | `--spacing-7xl` | `p-7xl` | `spacing_7xl` |
| `spacing-8xl` | 80 | L3 `@theme` | `--spacing-8xl` | `p-8xl` | `spacing_8xl` |
| `spacing-9xl` | 96 | L3 `@theme` | `--spacing-9xl` | `p-9xl` | `spacing_9xl` |
| `spacing-10xl` | 128 | L3 `@theme` | `--spacing-10xl` | `p-10xl` | `spacing_10xl` |
| `spacing-11xl` | 160 | L3 `@theme` | `--spacing-11xl` | `p-11xl` | `spacing_11xl` |

### 3.6 4. Widths Collection (12 variables)

Widths serve double duty: layout max-widths and breakpoint definitions.

| Figma Path | Resolved (px) | CSS Layer | CSS Custom Property | Tailwind Utility | Liquid Setting ID |
|---|---|---|---|---|---|
| `width-xxs` | 320 | L3 `@theme` | `--spacing-width-xxs` | `w-width-xxs`, `max-w-(--spacing-width-xxs)` | `layout_width_xxs` |
| `width-xs` | 384 | L3 `@theme` | `--spacing-width-xs` | `w-width-xs` | `layout_width_xs` |
| `width-sm` | 480 | L3 `@theme` | `--spacing-width-sm` | `w-width-sm` | `layout_width_sm` |
| `width-md` | 560 | L3 `@theme` | `--spacing-width-md` | `w-width-md` | `layout_width_md` |
| `width-lg` | 640 | L3 `@theme` | `--spacing-width-lg` | `w-width-lg` | `layout_width_lg` |
| `width-xl` | 768 | L3 `@theme` | `--spacing-width-xl` | `w-width-xl` | `layout_width_xl` |
| `width-2xl` | 1024 | L3 `@theme` | `--spacing-width-2xl` | `w-width-2xl` | `layout_width_2xl` |
| `width-3xl` | 1280 | L3 `@theme` | `--spacing-width-3xl` | `w-width-3xl` | `layout_width_3xl` |
| `width-4xl` | 1440 | L3 `@theme` | `--spacing-width-4xl` | `w-width-4xl` | `layout_width_4xl` |
| `width-5xl` | 1600 | L3 `@theme` | `--spacing-width-5xl` | `w-width-5xl` | `layout_width_5xl` |
| `width-6xl` | 1920 | L3 `@theme` | `--spacing-width-6xl` | `w-width-6xl` | `layout_width_6xl` |
| `paragraph-max-width` | 720 | L3 `@theme` | `--spacing-paragraph-max-width` | `max-w-(--spacing-paragraph-max-width)` | `layout_paragraph_max_width` |

### 3.7 5. Containers Collection (3 variables)

| Figma Path | Resolved (px) | CSS Layer | CSS Custom Property | Tailwind Utility | Liquid Setting ID |
|---|---|---|---|---|---|
| `container-padding-mobile` | 16 | L3 `@theme` | `--spacing-container-padding-mobile` | `px-container-padding-mobile` | `layout_container_padding_mobile` |
| `container-padding-desktop` | 32 | L3 `@theme` | `--spacing-container-padding-desktop` | `px-container-padding-desktop` | `layout_container_padding_desktop` |
| `container-max-width-desktop` | 1280 | L3 `@theme` | `--spacing-container-max-width` | `max-w-(--spacing-container-max-width)` | `layout_container_max_width` |

### 3.8 6. Typography Collection (156 variables)

See Section 4 for detailed typography mapping. Summary:

| Figma Path (example) | CSS Layer | CSS Custom Property | Tailwind Utility | Liquid Setting ID |
|---|---|---|---|---|
| `Display/Brand Deco/2XL/Font` | L3 `@theme` | `--text-display-brand-deco-2xl` (font via sub-property) | `text-display-brand-deco-2xl` | `type_display_brand_deco_2xl_font` |
| `Display/Brand Deco/2XL/Size` | L3 `@theme` | `--text-display-brand-deco-2xl` (base value = font-size) | (included in above) | `type_display_brand_deco_2xl_size` |
| `Display/Brand Deco/2XL/Line` | L3 `@theme` | `--text-display-brand-deco-2xl--line-height` | (included in above) | `type_display_brand_deco_2xl_line_height` |
| `Display/Brand Deco/2XL/Letter` | L3 `@theme` | `--text-display-brand-deco-2xl--letter-spacing` | (included in above) | `type_display_brand_deco_2xl_letter_spacing` |
| `Display/Brand Deco/2XL/Style` | L3 `@theme` | `--text-display-brand-deco-2xl--font-weight` | (included in above) | `type_display_brand_deco_2xl_weight` |
| `Body/Normal/Font` | L3 `@theme` | `--text-body-normal` (font via reference) | `text-body-normal` | `type_body_normal_font` |
| `Label/M/Font` | L3 `@theme` | `--text-label-m` (font via reference) | `text-label-m` | `type_label_m_font` |

---

## 4. Typography Mapping (Detailed)

### 4.1 Figma Typography Structure

The typography system in Figma uses three levels:

```
6. Typography Collection
  └─ {Category}/{Variant}/{Size}/{Property}
     e.g., Display/Brand Deco/2XL/Font
           Title/Screen/Primary/Size
           Body/Normal/Line
           Label/XL/Letter
```

Each text preset has 6 properties:
- **Font** — font family reference (-> _Alias -> _Primitives font family)
- **Style** — font weight/style (e.g., "Regular", "Bold", "Medium Italic")
- **Size** — font-size in px (-> _Alias -> _Primitives type scale)
- **Line** — line-height in px (-> _Alias -> _Primitives type scale)
- **Letter** — letter-spacing in % (-> _Alias -> _Primitives letter spacing)
- **Paragraph** — paragraph-spacing (not a CSS property; handled via margins)

### 4.2 Tailwind v4 Typography Composite Syntax

Tailwind v4 uses the `--text-*` namespace with double-dash sub-properties:

```css
@theme {
  --text-display-brand-deco-2xl: 4.5rem;                    /* font-size */
  --text-display-brand-deco-2xl--line-height: 5rem;          /* line-height */
  --text-display-brand-deco-2xl--letter-spacing: 0.1%;       /* letter-spacing */
  --text-display-brand-deco-2xl--font-weight: 400;           /* font-weight */
}
```

Using `text-display-brand-deco-2xl` in a template applies all four properties at once.

**Font-family is NOT a sub-property of `--text-*`.** Font families use the separate `--font-*` namespace. Each text preset specifies which font slot to use; the component CSS combines them:

```html
<h1 class="font-display-deco text-display-brand-deco-2xl">Headline</h1>
```

### 4.3 Complete Typography Preset Mapping

#### Display Presets (Brand Deco — Electric Blue)

| Figma Preset | CSS `--text-*` | `--line-height` | `--letter-spacing` | `--font-weight` | Font Slot |
|---|---|---|---|---|---|
| `Display/Brand Deco/2XL` | `--text-display-brand-deco-2xl: 4.5rem` | `5rem` | `1%` | `400` | `--font-display-deco` |
| `Display/Brand Deco/XL` | `--text-display-brand-deco-xl: 4rem` | `4.5rem` | `1%` | `400` | `--font-display-deco` |
| `Display/Brand Deco/L` | `--text-display-brand-deco-l: 3.5rem` | `4rem` | `1%` | `400` | `--font-display-deco` |
| `Display/Brand Deco/M` | `--text-display-brand-deco-m: 3rem` | `3.5rem` | `1%` | `400` | `--font-display-deco` |
| `Display/Brand Deco/S` | `--text-display-brand-deco-s: 2.5rem` | `3rem` | `1%` | `400` | `--font-display-deco` |

#### Display Presets (Brand Plain — Chillax)

| Figma Preset | CSS `--text-*` | `--line-height` | `--letter-spacing` | `--font-weight` | Font Slot |
|---|---|---|---|---|---|
| `Display/Brand Plain/2XL` | `--text-display-brand-plain-2xl: 4.5rem` | `5rem` | `1%` | `400` | `--font-display-plain` |
| `Display/Brand Plain/XL` | `--text-display-brand-plain-xl: 4rem` | `4.5rem` | `1%` | `400` | `--font-display-plain` |
| `Display/Brand Plain/L` | `--text-display-brand-plain-l: 3.5rem` | `4rem` | `1%` | `400` | `--font-display-plain` |
| `Display/Brand Plain/M` | `--text-display-brand-plain-m: 3rem` | `3.5rem` | `1%` | `400` | `--font-display-plain` |
| `Display/Brand Plain/S` | `--text-display-brand-plain-s: 2.5rem` | `3rem` | `1%` | `400` | `--font-display-plain` |

#### Title Presets (Satoshi)

| Figma Preset | CSS `--text-*` | `--line-height` | `--letter-spacing` | `--font-weight` | Font Slot |
|---|---|---|---|---|---|
| `Title/Screen/Primary` | `--text-title-screen-primary: 2.25rem` | `2.75rem` | `0%` | `700` | `--font-primary` |
| `Title/Screen/Secondary` | `--text-title-screen-secondary` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-primary` |
| `Title/Section/Primary` | `--text-title-section-primary` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-primary` |
| `Title/Section/Secondary` | `--text-title-section-secondary` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-primary` |
| `Title/Product/Primary` | `--text-title-product-primary` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-primary` |
| `Title/Product/Secondary` | `--text-title-product-secondary` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-primary` |
| `Title/Headline` | `--text-title-headline` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-primary` |

#### Body Presets (Satoshi)

| Figma Preset | CSS `--text-*` | `--line-height` | `--letter-spacing` | `--font-weight` | Font Slot |
|---|---|---|---|---|---|
| `Body/Heading` | `--text-body-heading` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-primary` |
| `Body/Normal` | `--text-body-normal: 1rem` | `1.5rem` | `0%` | `400` | `--font-primary` |
| `Body/Strong` | `--text-body-strong` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-primary` |
| `Body/Caption` | `--text-body-caption` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-primary` |

#### Label Presets (Oxanium)

| Figma Preset | CSS `--text-*` | `--line-height` | `--letter-spacing` | `--font-weight` | Font Slot |
|---|---|---|---|---|---|
| `Label/XL` | `--text-label-xl` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-label` |
| `Label/L` | `--text-label-l` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-label` |
| `Label/M` | `--text-label-m: 0.875rem` | `0.875rem` | `0.2%` | `400` | `--font-label` |
| `Label/S` | `--text-label-s` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-label` |
| `Label/XS` | `--text-label-xs` | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | [NEEDS VERIFICATION] | `--font-label` |

> **[NEEDS VERIFICATION]** markers indicate values that could not be fully resolved from the JSON export because multi-level alias chains resolve to `None` in the export format. The pipeline build step (ONE-177) must resolve these from the Figma JSON by following the alias chain to final primitive values.

### 4.4 Horizon Typography Comparison

ONEMO and Horizon both use 4 font slots, but the naming differs:

| ONEMO Slot | ONEMO CSS | Horizon Slot | Horizon CSS |
|---|---|---|---|
| Primary (Satoshi) | `--font-primary` | Body | `--font-body--family` |
| Display Plain (Chillax) | `--font-display-plain` | Heading | `--font-heading--family` |
| Display Deco (Electric Blue) | `--font-display-deco` | Subheading | `--font-subheading--family` |
| Label (Oxanium) | `--font-label` | Accent | `--font-accent--family` |

Horizon uses double-dash to separate slot from property (`--font-body--family`). ONEMO's Tailwind v4 integration uses `--font-*` for family only and `--text-*--{property}` for size composites. These conventions are compatible with each other and with their respective frameworks.

---

## 5. Color Mode Mapping

### 5.1 Three-Step Flow

The `1. Color modes` Figma collection has two modes: `Light mode` and `Dark mode`. Each semantic color token resolves to different primitives depending on the mode. The CSS implementation uses a three-step flow:

**Step 1: Define base values in `:root` (defaults to Light mode)**

```css
:root {
  /* Text colors — light mode defaults */
  --semantic-text-primary: var(--primitive-color-gray-light-900);
  --semantic-text-secondary: var(--primitive-color-gray-light-700);
  --semantic-text-disabled: var(--primitive-color-gray-light-500);

  /* Background colors — light mode defaults */
  --semantic-bg-primary: var(--primitive-color-base-white);
  --semantic-bg-brand-solid: var(--alias-brand-600);

  /* Border colors — light mode defaults */
  --semantic-border-primary: var(--primitive-color-gray-light-300);
}
```

**Step 2: Override in `[data-theme="dark"]`**

```css
[data-theme="dark"] {
  /* Text colors — dark mode overrides */
  --semantic-text-primary: var(--primitive-color-gray-dark-50);
  --semantic-text-secondary: var(--primitive-color-gray-dark-300);
  --semantic-text-disabled: var(--primitive-color-gray-dark-500);

  /* Background colors — dark mode overrides */
  --semantic-bg-primary: var(--primitive-color-gray-dark-950);
  --semantic-bg-brand-solid: var(--alias-brand-500);

  /* Border colors — dark mode overrides */
  --semantic-border-primary: var(--primitive-color-gray-dark-700);
}
```

**Step 3: Register in `@theme inline` for Tailwind utility generation**

```css
@theme inline {
  --color-text-primary: var(--semantic-text-primary);
  --color-text-secondary: var(--semantic-text-secondary);
  --color-text-disabled: var(--semantic-text-disabled);

  --color-bg-primary: var(--semantic-bg-primary);
  --color-bg-brand-solid: var(--semantic-bg-brand-solid);

  --color-border-primary: var(--semantic-border-primary);
}
```

### 5.2 Why `@theme inline`

The `inline` keyword is required (per tailwind-v4.md) because these tokens reference other CSS variables. Without `inline`, Tailwind cannot resolve the cross-references at build time. The `inline` directive tells Tailwind to inline the resolved value rather than referencing the variable.

### 5.3 Color Value Format

Colors are stored in OKLCH (primary) with hex fallback:

```css
:root {
  /* Primitives authored in OKLCH */
  --primitive-color-gray-light-900: oklch(0.21 0.01 264);
  --primitive-color-gray-dark-50: oklch(0.97 0 0);
}

/* Fallback for older browsers (generated by build tool) */
@supports not (color: oklch(0% 0 0)) {
  :root {
    --primitive-color-gray-light-900: #181d27;
    --primitive-color-gray-dark-50: #f7f7f7;
  }
}
```

The build pipeline (ONE-177) handles hex-to-OKLCH conversion using `culori` or Lightning CSS. Figma exports hex/RGB; the pipeline converts to OKLCH and generates fallbacks per oklch-colors.md "Method C: Build tool automation."

### 5.4 Theme Selector

ONEMO uses `[data-theme="dark"]` on the `<html>` element. This matches Tailwind v4's recommended pattern and avoids conflict with Shopify's `prefers-color-scheme` handling. The `dark:` Tailwind variant is NOT used; instead, colors swap automatically through the variable cascade.

### 5.5 Figma Mode to CSS Mapping Examples

| Figma Variable | Light Mode Source | Dark Mode Source | CSS Semantic Var |
|---|---|---|---|
| `text-primary (900)` | `Gray (light mode)/900` | `Gray (dark mode)/50` | `--semantic-text-primary` |
| `text-secondary (700)` | `Gray (light mode)/700` | `Gray (dark mode)/300` | `--semantic-text-secondary` |
| `text-brand-primary (900)` | `Brand/900` | `Gray (dark mode)/50` | `--semantic-text-brand-primary` |
| `bg-primary` | `Base/white` (assumed) | `Gray (dark mode)/950` (assumed) | `--semantic-bg-primary` |
| `bg-brand-solid` | `Brand/600` (assumed) | `Brand/500` (assumed) | `--semantic-bg-brand-solid` |
| `border-primary` | `Gray (light mode)/300` (assumed) | `Gray (dark mode)/700` (assumed) | `--semantic-border-primary` |

---

## 6. Font Placeholder Slots

### 6.1 Current Slots

ONEMO uses 4 font slots, mapped from the `_Alias` collection's `Typography/Font-Family/*` entries:

| Slot | CSS Custom Property | Current Font | Figma Alias Path | Role |
|---|---|---|---|---|
| Primary | `--font-primary` | Satoshi | `Typography/Font-Family/Primary` | UI workhorse. Body text, titles, headings, navigation. Used across all Title, Body, and most component presets. |
| Display Plain | `--font-display-plain` | Chillax | `Typography/Font-Family/Secondary  - Plain` | Brand display. Clean, modern aesthetic for hero sections and marketing display text. |
| Display Deco | `--font-display-deco` | Electric Blue | `Typography/Font-Family/Secondary - Deco` | Decorative Display Primary. Expressive, swappable display font for creative emphasis. |
| Label | `--font-label` | Oxanium | `Typography/Font-Family/Tertiary` | UI labels, badges, tags, navigation accents. Technical/geometric feel. Swappable. |

### 6.2 Future Expansion Slots

The decorative font system is designed for expansion. Additional slots follow this naming pattern:

| Slot | CSS Custom Property | Role |
|---|---|---|
| Display Deco 2 | `--font-display-deco-2` | Decorative Display Secondary. Additional creative font for variety. |
| Display Deco 3 | `--font-display-deco-3` | Decorative Display Tertiary. Third decorative option. |

Future slots are registered in `@theme` only when populated. Empty slots are not registered.

### 6.3 Swappability Rules

- **Primary** (`Satoshi`): Core UI font. Changing this changes the entire application feel. Swap requires regression testing.
- **Display Plain** (`Chillax`): Brand primary display. May expand to a broader family. Swap is medium-impact (marketing pages, hero sections).
- **Display Deco** (`Electric Blue`): Fully swappable. This is the "fun" slot. Different Effects can use different decorative fonts. Low-impact swap.
- **Label** (`Oxanium`): Swappable. Used in constrained spaces (badges, tags). Swap candidate must have similar metrics (x-height, character width).

### 6.4 Tailwind Utility Usage

```html
<!-- Primary font (most text) -->
<p class="font-primary text-body-normal">Body copy in Satoshi</p>

<!-- Display Plain -->
<h1 class="font-display-plain text-display-brand-plain-2xl">Chillax Headline</h1>

<!-- Display Deco -->
<h1 class="font-display-deco text-display-brand-deco-2xl">Electric Blue Headline</h1>

<!-- Label -->
<span class="font-label text-label-m">BADGE TEXT</span>
```

### 6.5 Horizon Mapping

| ONEMO Slot | Horizon Equivalent | Horizon Setting ID |
|---|---|---|
| `--font-primary` | `--font-body--family` | `type_body_font` |
| `--font-display-plain` | `--font-heading--family` | `type_heading_font` |
| `--font-display-deco` | `--font-subheading--family` | `type_subheading_font` |
| `--font-label` | `--font-accent--family` | `type_accent_font` |

---

## 7. Figma Inconsistencies to Fix

The following inconsistencies were found in the Feb 15 Figma JSON export. These will be fixed in the corrected JSON copy used by the pipeline, NOT manually in Figma.

### 7.1 Unicode Characters

| Location | Issue | Figma Name | Corrected CSS Name |
|---|---|---|---|
| `_Primitives` | Unicode One Dot Leader (U+2024) used instead of ASCII period | `Dimensions/0\.5 (2px)` | `--primitive-dimension-0-5` |
| `_Primitives` | Unicode One Dot Leader (U+2024) | `Dimensions/1\.5 (6px)` | `--primitive-dimension-1-5` |
| `_Primitives` | Non-ASCII accent (U+00E9) in font name | `Typography/Font Family/Decorative/Credible` | `--primitive-font-credible` |

### 7.2 Double Space

| Location | Issue | Figma Name | Corrected CSS Name |
|---|---|---|---|
| `_Alias` | Double space before hyphen | `Typography/Font-Family/Secondary  - Plain` | `--alias-font-display-plain` |

### 7.3 Inconsistent Separator in Path Segments

| Location | Issue | Figma Name | Standard |
|---|---|---|---|
| `_Primitives` | Space-separated: `Font Family` | `Typography/Font Family/Basic/Satoshi` | Should be `Font-Family` (hyphenated) or both consistent |
| `_Alias` | Hyphen-separated: `Font-Family` | `Typography/Font-Family/Primary` | Matches CSS convention but inconsistent with Primitives |
| `_Primitives` | Space-separated: `Letter Spacing` | `Typography/Letter Spacing/-10` | Should be `Letter-Spacing` |
| `_Alias` | Hyphen-separated: `Letter-Spacing` | `Typography/Letter-Spacing/LeS-10` | Matches CSS but inconsistent with Primitives |
| `_Primitives` | Space-separated: `Type Scale` | `Typography/Type Scale/72` | Should be `Type-Scale` |
| `_Alias` | Hyphen-separated: `Font-Size`, `Line-Height` | `Typography/Font-Size/Display/2XL` | Consistent within Alias, inconsistent with Primitives |

**Pipeline rule:** Normalize all path-segment separators to hyphens during transformation. Both `Font Family` and `Font-Family` become `font-family` in the CSS output.

### 7.4 Inconsistent Letter Spacing Abbreviations in _Alias

| Figma Name | Issue | Corrected CSS Name |
|---|---|---|
| `Typography/Letter-Spacing/LeSp+10` | Uses `LeSp` (4 chars) — inconsistent with rest | `--alias-letter-spacing-pos-10` |
| `Typography/Letter-Spacing/LeS+8` | Uses `LeS` (3 chars) — rest of the series | `--alias-letter-spacing-pos-8` |
| `Typography/Letter-Spacing/LeS-0 - default` | Has ` - default` suffix — unique | `--alias-letter-spacing-0` |

The `LeSp` vs `LeS` prefix is inconsistent within the same group. The pipeline normalizes these to a clean `pos-N` / `neg-N` / `0` pattern.

### 7.5 Parenthetical Annotations (Not Errors, But Must Be Stripped)

Parenthetical annotations provide human context but must be removed during CSS transformation:

| Pattern | Count | Example | Stripped CSS Name |
|---|---|---|---|
| Scale reference `(900)` in Color modes | 16 | `text-primary (900)` | `--color-text-primary` |
| Pixel value `(0px)` in Dimensions | 32 | `Dimensions/4 (16px)` | `--primitive-dimension-4` |
| Mode context `(light mode)` in Neutrals | 36 | `Gray (light mode)/500` | `--primitive-color-gray-light-500` |

### 7.6 Underscore State Separators

53 variables in the Color modes collection use underscores to separate state variants (e.g., `bg-primary_hover`, `text-secondary_on-brand`). The pipeline converts these to hyphens for CSS consistency:

| Figma Pattern | CSS Output |
|---|---|
| `bg-primary_hover` | `--color-bg-primary-hover` |
| `text-primary_on-brand` | `--color-text-primary-on-brand` |
| `shadow-lg_01` | `--color-shadow-lg-01` |
| `toggle-slim-border_pressed-hover` | `--color-toggle-slim-border-pressed-hover` |

### 7.7 Mixed Casing in Font Style Names

| Figma Name | Issue | Note |
|---|---|---|
| `Typography/Font-Style/Normal/SemiBold` | PascalCase, no space | CSS maps to `font-weight: 600` |
| `Typography/Font-Style/Normal/ExtraBold` | PascalCase, no space | CSS maps to `font-weight: 800` |
| `Typography/Font-Style/Normal/Extra Light` | Space-separated | CSS maps to `font-weight: 200` |
| `Typography/Font-Style/Italic/Semi Bold Italic` | Space-separated | Inconsistent with `SemiBold` |
| `Typography/Font-Style/Italic/XL` | Uses size name for "Bold Italic" | Misleading name — value is `Bold Italic` |

**Pipeline rule:** Font style names map to numeric font-weight values, bypassing the naming inconsistencies entirely.

### 7.8 Font-Family Naming Mismatch with Slot Semantics

| Figma Alias Name | Actual Semantic Role | Issue |
|---|---|---|
| `Typography/Font-Family/Primary` | Primary (Satoshi) | Clear and correct |
| `Typography/Font-Family/Secondary  - Plain` | Display Plain (Chillax) | "Secondary" does not communicate "display" role |
| `Typography/Font-Family/Secondary - Deco` | Display Deco (Electric Blue) | "Secondary" does not communicate "display" role |
| `Typography/Font-Family/Tertiary` | Label (Oxanium) | "Tertiary" does not communicate "label" role |

The pipeline renames these to semantic slot names (`primary`, `display-plain`, `display-deco`, `label`). The Figma names are retained as-is in the Figma file but are not propagated to CSS.

---

## 8. Liquid Mapping (Shopify)

### 8.1 Setting ID Convention

Shopify `settings_schema.json` uses `snake_case` for setting IDs. The mapping from CSS custom properties to setting IDs follows:

| CSS Convention | Liquid Convention | Transform Rule |
|---|---|---|
| `--color-text-primary` | `color_text_primary` | Strip `--`, replace `-` with `_` |
| `--font-primary` | `type_primary_font` | Strip `--`, prefix `type_`, suffix `_font` |
| `--spacing-xl` | `spacing_xl` | Strip `--`, replace `-` with `_` |
| `--radius-md` | `style_border_radius_md` | Strip `--`, prefix `style_border_` |

### 8.2 Color Format for Liquid

Horizon uses `rgb()` with space-separated values for iOS < 16.4 compatibility. However, OKLCH is available in Liquid since March 2025 via the `color_to_oklch` filter.

**ONEMO Decision [NEEDS VERIFICATION — depends on ONE-181 scope]:**

| Option | Format | Pros | Cons |
|---|---|---|---|
| A: Follow Horizon | `rgb(R G B)` + `--color-*-rgb` companion | Maximum compatibility | No P3 gamut, no perceptual uniformity |
| B: OKLCH native | `oklch(L C H)` | Modern, matches CSS pipeline | iOS < 16.4 drops (~4% traffic as of 2026) |
| C: Hybrid | `rgb()` in Liquid settings, OKLCH in CSS | Best of both | Two color representations to maintain |

Recommended: Option C (Hybrid). Liquid settings store hex/RGB (what Shopify admin understands), CSS pipeline converts to OKLCH for the rendered stylesheet. The `color_to_oklch` filter can bridge if needed.

### 8.3 Font Slot Mapping

| ONEMO Slot | CSS Property | Liquid Setting ID | Liquid Setting Type | Horizon Equivalent |
|---|---|---|---|---|
| Primary | `--font-primary` | `type_primary_font` | `font_picker` | `type_body_font` |
| Display Plain | `--font-display-plain` | `type_display_plain_font` | `font_picker` | `type_heading_font` |
| Display Deco | `--font-display-deco` | `type_display_deco_font` | `font_picker` | `type_subheading_font` |
| Label | `--font-label` | `type_label_font` | `font_picker` | `type_accent_font` |

### 8.4 Color Scheme Group Mapping

Horizon defines ~40 color roles per scheme. ONEMO's `1. Color modes` collection maps to a subset of these roles:

| ONEMO Token | Horizon Role | Required by Shopify? |
|---|---|---|
| `--color-text-primary` | `text` | Yes (required) |
| `--color-bg-primary` | `background` | Yes (required) |
| `--color-bg-brand-solid` | `primary_button` | Yes (required) |
| `--color-text-primary-on-brand` | `on_primary_button` | Yes (required) |
| `--color-border-primary` | `primary_button_border` | Yes (required) |
| `--color-fg-brand-primary` | `links` | Yes (required) |
| `--color-fg-primary` | `icons` | Yes (required) |
| `--color-bg-secondary` | `secondary_button` | Yes (required) |
| `--color-text-secondary` | `on_secondary_button` | Yes (required) |
| `--color-border-secondary` | `secondary_button_border` | Yes (required) |

Shopify requires 10 semantic color roles per scheme. ONEMO's 157 color mode tokens provide these plus additional granularity (error, warning, success, disabled, hover variants) that Horizon does not expose through `color_scheme_group`.

### 8.5 Spacing in Liquid

Horizon uses separate `--margin-*`, `--padding-*`, `--gap-*` scales (t-shirt sizing). ONEMO uses a unified `--spacing-*` scale. The Liquid mapping:

| ONEMO CSS | Liquid Setting ID | Horizon Equivalent |
|---|---|---|
| `--spacing-xs` | `spacing_xs` | `--padding-xs` / `--margin-xs` / `--gap-xs` (separate) |
| `--spacing-md` | `spacing_md` | `--padding-md` / `--margin-md` |
| `--spacing-xl` | `spacing_xl` | `--padding-xl` / `--margin-xl` |

ONEMO's unified scale is simpler. Horizon's separated scales allow independent control but add complexity. The theme template handles the mapping.

### 8.6 Radius in Liquid

| ONEMO CSS | Liquid Setting ID | Horizon Equivalent |
|---|---|---|
| `--radius-sm` | `style_border_radius_sm` | `--style-border-radius-sm` |
| `--radius-md` | `style_border_radius_md` | `--style-border-radius-md` |
| `--radius-lg` | `style_border_radius_lg` | `--style-border-radius-lg` |

Horizon also has per-component radius tokens (`--style-border-radius-pills`, `--style-border-radius-buttons-primary`) that ONEMO does not currently use but can extend to.

---

## 9. Token Governance

### 9.1 Who Can Change What

| Action | Who | Process |
|---|---|---|
| Add a new primitive | Dan (in Figma) + Kai (pipeline run) | Add in Figma → export JSON → run pipeline → PR to staging |
| Add a new alias | Dan (in Figma) + Kai (pipeline run) | Same as primitive. Alias must reference an existing primitive. |
| Add a new semantic token | Dan (in Figma) + Kai (code) | Add in Figma → map to alias → add to `@theme` in CSS → PR |
| Change a primitive value | Dan (in Figma) | Change in Figma → re-export → pipeline run. No code change needed — aliases propagate automatically. |
| Rename a token | Dan + Kai | Rename in Figma → update pipeline mapping → update all code references → PR. Breaking change — requires search across codebase. |
| Delete a token | Dan + Kai | Remove from Figma → verify no code references → pipeline run → PR. Must confirm zero usage first. |
| Swap a font slot | Dan (in Figma) | Change the alias target (e.g., point `--font-display-deco` at a new font). Pipeline propagates. No code change. |
| Add a Dusty palette family | Dan (in Figma) | Add 12 stops following existing naming. Pipeline picks it up automatically. |
| Change color mode values | Dan (in Figma) | Edit light/dark mode values. Re-export. Pipeline propagates. |

### 9.2 Hard Rules

1. **No hard-coded hex values in components.** All color references go through CSS custom properties. Violations caught in code review.
2. **Alias layer is the only brand swap point.** Changing brand identity means editing aliases, never primitives or semantic tokens directly.
3. **Primitives are raw values only.** No semantic meaning in primitive names. `dusty-rose-500` is correct. `primary-500` at the primitive level is wrong.
4. **Semantic tokens reference aliases, aliases reference primitives.** Never skip a layer. No semantic token pointing directly at a primitive.
5. **One source of truth: Figma.** The JSON export is the canonical input. Code-side tokens are generated output. If they diverge, Figma wins.

### 9.3 Adding New Tokens

1. Dan creates the variable in Figma following existing collection/group structure
2. Dan exports the updated JSON to `Design System/var/`
3. Kai runs the pipeline (ONE-177) to generate CSS custom properties
4. If semantic: Kai adds to `@theme` block with correct namespace prefix
5. PR to staging with the new token
6. Token appears in markdown reference (ONE-211) on next generation

### 9.4 Deprecating Tokens

1. Identify the token to remove and search codebase for all references
2. Replace references with the replacement token (or remove if no replacement)
3. Remove from Figma
4. Re-export and run pipeline
5. PR removes the generated CSS custom property
6. Markdown reference updated

No deprecation warnings or transition periods — ONEMO is pre-launch. Clean removal is fine.

### 9.5 Versioning

Tokens are not independently versioned. They move with the codebase via git. The Figma JSON export filename includes the export date (e.g., `ONEMO-WEBB -APP 15 feb figma variables.json`) which serves as the version marker. When the pipeline (ONE-177) is built, each run will be a git commit with a clear message.

---

## 10. Documentation Basis

### 10.1 References Used

| Source | Version / Date | Verified | Reference File |
|---|---|---|---|
| Tailwind CSS v4 documentation | v4.1.18 (2025-12-11) | 2026-02-16 | `13-references/tailwind-v4.md` |
| Shopify Horizon theme source | v3.3.1 | 2026-02-16 | `13-references/shopify-liquid-horizon.md` |
| DTCG Design Tokens Format Module | 2025.10 (stable) | 2026-02-16 | `13-references/css-design-tokens.md` |
| CSS Color Module Level 5 (OKLCH) | ~93% browser support | 2026-02-16 | `13-references/oklch-colors.md` |
| Style Dictionary | v4 | 2026-02-16 | Referenced via css-design-tokens.md |
| Figma Variables JSON export | Feb 15, 2026 | 2026-02-15 | `Design System/var/ONEMO-WEBB -APP 15 feb figma variables.json` |

### 10.2 Figma Collection Summary

| Collection | Variables | Modes | Type | Layer |
|---|---|---|---|---|
| `_Primitives` | 252 | Core | color, float, string | L1 (Primitives) |
| `_Alias` | 117 | Style | color, float, string | L2 (Aliases) |
| `1. Color modes` | 157 | Light mode, Dark mode | color | L3 (Semantic) |
| `2. Radius` | 11 | Mode 1 | float | L3 (Semantic) |
| `3. Spacing` | 17 | Mode 1 | float | L3 (Semantic) |
| `4. Widths` | 12 | Mode 1 | float | L3 (Semantic) |
| `5. Containers` | 3 | Value | float | L3 (Semantic) |
| `6. Typography` | 156 | Value | float, string | L3 (Semantic) |
| **Total** | **725** | | | |

### 10.3 Decision Dependencies

This document makes naming decisions that depend on:

- **ONE-181 (Token Scope):** Which tokens ship to code vs. stay Figma-only. If some primitives are excluded from the pipeline, they do not need CSS names.
- **ONE-177 (CSS Pipeline):** The actual build tooling (Style Dictionary, custom scripts, or other) that implements these transformation rules.
- **ONE-211 (Markdown Token Reference):** The generated markdown summary that AI agents consume. Must use the naming conventions defined here.
- **ONE-180 (Sync Process):** The cadence and process for re-exporting from Figma and running the pipeline.

Items marked `[NEEDS VERIFICATION]` will be resolved when the pipeline (ONE-177) processes the full alias chain from the JSON export.
